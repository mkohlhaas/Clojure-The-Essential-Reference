(dosync ; <1>
  (ref-set op1 0)
  (ref-set op2 1)
  (ref-set result []))

(let [p1 (future (perform)) ; <2>
      p2 (future (perform))]
  [@p1 @p2]
  @result)

;; ###-1235449187-###  ; <3>
;; 1 + 2 = 3 (i=0)
;; ###-326623499-###   ; <4>
;; ###-326623499-###
;; ###-326623499-###
;; ###-1235449187-###
;; 2 + 3 = 5 (i=1)
;; ###-326623499-###
;; ###-326623499-###
;; ###-326623499-###
;; ###-1235449187-###
;; 3 + 4 = 7 (i=2)
;; ###-326623499-###
;; ###-326623499-###
;; ###-326623499-###
;; ###-326623499-###   ; <5>
;; 4 + 5 = 9 (i=0)
;; ###-326623499-###
;; 5 + 6 = 11 (i=1)
;; ###-326623499-###
;; 6 + 7 = 13 (i=2)
;; [3 5 7 9 11 13]